[{"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\index.tsx":"1","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\reportWebVitals.ts":"2","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\App.tsx":"3","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\actions\\articleAction.js":"4","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\pages\\HomePage.jsx":"5","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\pages\\HeaderPage.jsx":"6","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\pages\\ResultPage.jsx":"7","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\components\\layout\\Footer.jsx":"8","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\actions\\actionType.js":"9","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\styles\\General.js":"10","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\components\\common\\TopicBlock.jsx":"11","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\components\\common\\ArticleInfo.jsx":"12","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\components\\common\\Tag.jsx":"13","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\utils.js":"14","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\store.js":"15","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\reducers\\RootReducer.ts":"16","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\reducers\\WriterListReducer.js":"17","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\reducers\\ArticleReducer.js":"18","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\pages\\ArticlePage.tsx":"19"},{"size":570,"mtime":1614829529702,"results":"20","hashOfConfig":"21"},{"size":425,"mtime":1614828623879,"results":"22","hashOfConfig":"21"},{"size":2453,"mtime":1614833264151,"results":"23","hashOfConfig":"21"},{"size":1675,"mtime":1614829255535,"results":"24","hashOfConfig":"21"},{"size":1959,"mtime":1614829255599,"results":"25","hashOfConfig":"21"},{"size":5344,"mtime":1614829255598,"results":"26","hashOfConfig":"21"},{"size":645,"mtime":1614829255601,"results":"27","hashOfConfig":"21"},{"size":468,"mtime":1614829255690,"results":"28","hashOfConfig":"21"},{"size":318,"mtime":1614829255534,"results":"29","hashOfConfig":"21"},{"size":600,"mtime":1614830106322,"results":"30","hashOfConfig":"21"},{"size":5760,"mtime":1614832091850,"results":"31","hashOfConfig":"21"},{"size":1806,"mtime":1614829255673,"results":"32","hashOfConfig":"21"},{"size":1451,"mtime":1614829255682,"results":"33","hashOfConfig":"21"},{"size":1915,"mtime":1614829309794,"results":"34","hashOfConfig":"21"},{"size":335,"mtime":1614829255543,"results":"35","hashOfConfig":"21"},{"size":337,"mtime":1614829255538,"results":"36","hashOfConfig":"21"},{"size":3215,"mtime":1614829255540,"results":"37","hashOfConfig":"21"},{"size":1673,"mtime":1614829255537,"results":"38","hashOfConfig":"21"},{"size":4389,"mtime":1614833187442,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"2i8yyi",{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86"},"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\index.tsx",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\reportWebVitals.ts",[],["87","88"],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\App.tsx",["89","90"],"import { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport HeaderPage from './pages/HeaderPage'\nimport HomePage from './pages/HomePage'\nimport { GetWriterArticles } from './store/actions/articleAction'\nimport Footer from './components/layout/Footer'\nimport React, { useEffect, useMemo } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport ArticlePage from './pages/ArticlePage.tsx'\nimport ResultPage from './pages/ResultPage'\nimport { pipe, packTagsString, countRepeatTag, _map, stringToLower, objToArr, _sort, _slice } from \"./utils\"\nimport { RootState } from './store/reducers/RootReducer'\nimport { GlobalStyle } from './styles/General'\n\nfunction App() {\n  // 每個component 如果沒有傳值的問題\n  // 取得作者姓名? 一個 或 多個\n  // 如果點選同樣的 store 還是會重新render?\n  // 最多100篇的限制\n  // 看看用useMemo 前要做啥\n  // TypeScript\n  // https://overreacted.io/before-you-memo/\n  // >看看自己專案的命名規則 component/  變數\n  // html Tag\n  // search feature\n  // 分頁\n  // slider\n  // font-size RWD \n  // 搜尋結果 篩選  時間  人氣 \n  // 更新時間的 function\n  // 考慮在HomePage 用物件map呈現?\n  type Tag = {\n\n  }\n\n  const dispatch = useDispatch()\n  const articleList = useSelector((state: RootState) => state.WriterList)\n\n  const topicTitleList = useMemo(() => {\n    // @ts-ignore\n    if (articleList?.pinkymini?.actionStatus === \"success\") {\n      return pipe(\n        packTagsString,\n        _map(stringToLower),\n        countRepeatTag,\n        objToArr,\n        _sort((x: any, y: any) => {\n          console.log(\"x\", x)\n          return x.value > y.value ? -1 : 1\n        }),\n        _slice(0, 3)\n        // @ts-ignore\n      )(articleList.pinkymini.articles)\n    }\n  }, [articleList]) //考慮在store 存其他值\n\n  useEffect(() => {\n    dispatch(GetWriterArticles(\"pinkymini\"))\n  }, [])\n\n  return (\n    // @ts-ignore\n    articleList?.pinkymini?.actionStatus === \"success\" ?\n      <BrowserRouter>\n        <GlobalStyle />\n        <HeaderPage topicTitleList={topicTitleList} />\n        <Switch>\n          <Route exact path=\"/\" component={() => <HomePage topicTitleList={topicTitleList} />} />\n\n          <Route exact path=\"/ArticlePage\" component={ArticlePage} />\n          <Route path=\"/ResultPage\" component={ResultPage} />\n        </Switch>\n        <Footer />\n      </BrowserRouter >\n      : null\n  );\n}\n\nexport default App;\n","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\actions\\articleAction.js",["91"],"import axios from 'axios'\r\nimport fakeData from '../../data.json'\r\nimport {\r\n    ARTICLE_LIST_LOADING,\r\n    ARTICLE_LIST_FAIL,\r\n    ARTICLE_LIST_SUCCESS,\r\n    ARTICLE_LOADING,\r\n    ARTICLE_SUCCESS,\r\n    ARTICLE_FAIL\r\n} from './actionType'\r\n\r\nexport const GetWriterArticles = (userId = \"pinkymini\") => dispatch => {\r\n    dispatch({\r\n        type: ARTICLE_LIST_LOADING,\r\n        payload: { userId }\r\n    })\r\n    // dispatch({\r\n    //     type: ARTICLE_LIST_SUCCESS,\r\n    //     payload: { res: fakeData.pinkymini, userId: userId }\r\n    // })\r\n\r\n    axios.get(`https://emma.pixnet.cc/blog/articles?user=${userId}&per_page=100`)\r\n        .then((res) => {\r\n            console.log(\"res\", res);\r\n            dispatch({\r\n                type: ARTICLE_LIST_SUCCESS,\r\n                payload: { res: res, userId: userId }\r\n            })\r\n        })\r\n        .catch((rej) => {\r\n            dispatch({\r\n                type: ARTICLE_LIST_FAIL,\r\n                payload: { rej: rej, userId: userId }\r\n            })\r\n        })\r\n}\r\n\r\n\r\nexport const GetArticle = (articleId, authorName) => dispatch => {\r\n    dispatch({\r\n        type: ARTICLE_LOADING,\r\n        payload: { articleId: articleId }\r\n    })\r\n    axios.get(`https://emma.pixnet.cc/blog/articles/${articleId}?user=${authorName}`)\r\n        .then((res) => {\r\n            console.log(\"res\", res)\r\n            dispatch({\r\n                type: ARTICLE_SUCCESS,\r\n                payload: { res: res, articleId: articleId }\r\n            })\r\n        })\r\n        .catch((rej) => {\r\n            dispatch({\r\n                type: ARTICLE_FAIL,\r\n                payload: { rej: rej, articleId: articleId }\r\n            })\r\n        })\r\n}\r\n","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\pages\\HomePage.jsx",["92","93"],"import styled from 'styled-components'\r\nimport React from 'react'\r\nimport {\r\n    _filter,\r\n    _log\r\n} from '../utils'\r\nimport TopicBlock from '../components/common/TopicBlock'\r\nimport { WContainer } from '../styles/General'\r\n\r\nexport default function HomePage({ topicTitleList }) {\r\n\r\n\r\n    // rowsCount\r\n    // columnsCount\r\n    // mode  /\"Sticky\" Spatial\r\n    console.log(\"topicTitleList\", topicTitleList);\r\n    return (\r\n        <WHomePage>\r\n            <WHomePageSection>\r\n                <WHomePageContainer>\r\n                    <TopicBlock\r\n                        showTitle={true}\r\n                        title={topicTitleList[0].name}\r\n                        rowsCount={3}\r\n                        columnsCount={1}\r\n                    />\r\n                </WHomePageContainer>\r\n            </WHomePageSection>\r\n            <WHomePageSection>\r\n                <WHomePageContainer>\r\n                    <TopicBlock\r\n                        showTitle={true}\r\n                        title={topicTitleList[1].name}\r\n                        rowsCount={2}\r\n                        columnsCount={2}\r\n                        wrap={true}\r\n                    />\r\n                </WHomePageContainer>\r\n            </WHomePageSection>\r\n            <WHomePageSection>\r\n                <WHomePageContainer>\r\n                    <TopicBlock\r\n                        showTitle={true}\r\n                        title={topicTitleList[2].name}\r\n                        rowsCount={4}\r\n                        columnsCount={1}\r\n                    />\r\n                </WHomePageContainer>\r\n            </WHomePageSection >\r\n        </WHomePage>\r\n    )\r\n}\r\n\r\nconst WHomePageContainer = styled(WContainer)`\r\n    flex-direction: column;   \r\n`\r\n\r\nconst WHomePageSection = styled.section`\r\n    // >div:nth-child(even) {\r\n    //     background-color: #eee;\r\n    // }\r\n`\r\nconst WHomePage = styled.div`\r\n    >div:nth-child(even) {\r\n        background-color: #eee;\r\n    }\r\n`","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\pages\\HeaderPage.jsx",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\pages\\ResultPage.jsx",["94","95","96","97","98","99","100","101","102","103","104","105"],"import React, { useMemo } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport { pipe, _filter, packTagsString, countRepeatTag, _map, stringToLower, objToArr, _sort, _slice } from '../utils'\r\nimport TopicBlock from '../components/common/TopicBlock'\r\nexport default function ResultPage({ location: { state: { searchValue } } }) {\r\n\r\n    return (\r\n        <TopicBlock\r\n            filter={true}\r\n            titlePlace=\"center\"\r\n            showTitle={true}\r\n            title={searchValue}\r\n            wrap={true}\r\n            rowsCount={2}\r\n            columnsCount={100} />\r\n    )\r\n}\r\n","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\components\\layout\\Footer.jsx",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\actions\\actionType.js",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\styles\\General.js",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\components\\common\\TopicBlock.jsx",["106","107"],"import React, { useState, useMemo } from 'react'\r\nimport {\r\n    pipe,\r\n    _filter,\r\n    _slice,\r\n    _sort,\r\n    _log\r\n} from '../../utils'\r\nimport ArticleInfo from './ArticleInfo'\r\nimport { useSelector } from 'react-redux'\r\nimport { blue600, blue100, blue50 } from '../../styles/General'\r\nimport styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faFilter, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport Tag from \"./Tag\"\r\n\r\nexport default function TopicBlock({\r\n    filter = false,\r\n    showTitle = true,\r\n    title = \"標題\",\r\n    blockNumber = 4,\r\n    rowsCount = 4,\r\n    columnsCount = 1,\r\n    wrap = false,\r\n    titlePlace = \"left\"\r\n}) {\r\n    const articleList = useSelector(state => state.WriterList)\r\n    const topicArticleList = useMemo(() => {\r\n        if (articleList?.pinkymini?.actionStatus === \"success\") {\r\n            return pipe(\r\n                _filter(article => article.tags.some(element => element.toLowerCase() === title.toLowerCase())),\r\n                _sort((articleA, articleB) => articleA.total_hits > articleB.total_hits ? -1 : 1),\r\n                _slice(0, rowsCount * columnsCount)\r\n            )(articleList.pinkymini.articles)\r\n\r\n        }\r\n    }, [articleList, title])\r\n    const [filterList, setFilterList] = useState(false)\r\n\r\n    const [articleInfoList, setArticleInfoList] = useState(topicArticleList)\r\n\r\n    const [publicTimeActive, setPublicTimeActive] = useState(false)\r\n    const [viewCountActive, setViewCountActive] = useState(false)\r\n\r\n    const handlePublicTime = () => {\r\n        setArticleInfoList(prevState => prevState.sort((articleA, articleB) => Number(articleA.public_at) > Number(articleB.public_at)) ? 1 : -1)\r\n        setPublicTimeActive(true)\r\n        setViewCountActive(false)\r\n        // setFilterList(prevState => !prevState)\r\n    }\r\n\r\n    const handleViewCount = () => {\r\n        setViewCountActive(true)\r\n        setPublicTimeActive(false)\r\n        // setFilterList(prevState => !prevState)\r\n    }\r\n\r\n    const handleFilterList = () => {\r\n        setFilterList(prevState => !prevState)\r\n    }\r\n\r\n    let publicTimeIconStyle = {\r\n        \"vertical-align\": \"middle\",\r\n        \"display\": publicTimeActive ? \"inline-block\" : \"none\"\r\n    }\r\n\r\n    let viewCountIconStyle = {\r\n        \"vertical-align\": \"middle\",\r\n        \"display\": viewCountActive ? \"inline-block\" : \"none\"\r\n    }\r\n\r\n    console.log(\"articleInfoList\", articleInfoList)\r\n\r\n    return (\r\n        <WHomPageTopicBlock>\r\n            {showTitle && <WTopicTitle titlePlace={titlePlace}>{title}</WTopicTitle>}\r\n            {filter &&\r\n                <WFilterFeature>\r\n                    <WFilterBlock onClick={() => handleFilterList()}>\r\n                        <FontAwesomeIcon icon={faFilter} color={`${blue600}`} />\r\n                        <WFilterText>篩選器</WFilterText>\r\n                    </WFilterBlock>\r\n                    <WFilterList show={filterList}>\r\n                        <Tag\r\n                            text=\"上傳時間\"\r\n                            handleClick={handlePublicTime}\r\n                            iconStyle={publicTimeIconStyle}\r\n                            cancelIcon={faTimes}\r\n                            isItemActive={publicTimeActive}\r\n                            iconBackgroundColor={blue50}\r\n                            iconColor={blue100}\r\n                        />\r\n                        <Tag\r\n                            text=\"觀看次數\"\r\n                            handleClick={handleViewCount}\r\n                            iconStyle={viewCountIconStyle}\r\n                            cancelIcon={faTimes}\r\n                            isItemActive={viewCountActive}\r\n                            iconBackgroundColor={blue50}\r\n                            iconColor={blue100}\r\n                        />\r\n                    </WFilterList>\r\n                </WFilterFeature>}\r\n            <WArticleBlock wrap={wrap}>\r\n                {articleInfoList.map((articleInfo, index) => {\r\n                    console.log(\"articleInfo\", articleInfo)\r\n                    return <ArticleInfo\r\n                        key={`${articleInfo.title + index}`}\r\n                        blockNumber={rowsCount * columnsCount}\r\n                        rowsCount={rowsCount}\r\n                        title={articleInfo.title}\r\n                        category={articleInfo.category}\r\n                        index={index}\r\n                        articleId={articleInfo.articleId}\r\n                        publicAt={articleInfo.public_at}\r\n                    />\r\n                }\r\n                )}\r\n            </WArticleBlock>\r\n        </WHomPageTopicBlock>\r\n    )\r\n}\r\n\r\nconst WHomPageTopicBlock = styled.div`\r\n    padding: 25px 10px;\r\n    @media (min-width: 980px) {\r\n        padding:45px;\r\n    }\r\n`\r\n\r\nconst WTopicTitle = styled.p`\r\n    text-align:${props => props.titlePlace};\r\n    color:${blue600};\r\n    font-weight: bold;\r\n    font-size: 30px;\r\n    margin-bottom:30px;\r\n`\r\n\r\nconst WFilterFeature = styled.div`\r\n    display: flex;\r\n    margin: 0 20px;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n`\r\n\r\nconst WFilterBlock = styled.div`\r\n    cursor: pointer;\r\n    margin: 0 0 10px 0px;\r\n`\r\n\r\nconst WFilterList = styled.div`\r\n    // height:${props => props.show ? \"27px\" : \"0px\"};\r\n    // visibility: ${props => props.show ? \"unset\" : \"hidden\"};\r\n    transition: all .3s .5s;\r\n    display:${props => props.show ? \"flex\" : \"none\"};;\r\n`\r\n\r\nconst WFilterText = styled.p`\r\n    display: inline-block;\r\n    margin: 0 10px;\r\n    font-weight: bold;\r\n`\r\n\r\nconst WArticleBlock = styled.div`\r\n    display: flex;\r\n    justify-content: space-around;\r\n    width:100%;\r\n    flex-wrap:${props => props.wrap ? \"wrap\" : \"nowrap\"}\r\n`","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\components\\common\\ArticleInfo.jsx",["108"],"import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { blue600, blue400 } from '../../styles/General'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport default function ArticleInfo({ avatar, category, title, index, blockNumber, rowsCount, articleId, publicAt }) {\r\n    const history = useHistory()\r\n    const handleClick = (articleId) => {\r\n        const locationInfo = {\r\n            pathname: `/ArticlePage`,\r\n            state: {\r\n                articleId\r\n            }\r\n        }\r\n        history.push(locationInfo)\r\n    }\r\n\r\n    return (\r\n        <WArticle onClick={() => handleClick(articleId)} rowsCount={rowsCount}>\r\n            <WArticleFigure>\r\n                <WArticleImg src={`https://fakeimg.pl/350x200/?text=fakeImg${index}`} alt=\"fakeImg\" />\r\n            </WArticleFigure>\r\n            {!!category && category !== \"未分類\" && category.length > 0 && <WArticleCategory>{category}</WArticleCategory>}\r\n            <WArticleTitle>{title}</WArticleTitle>\r\n\r\n        </WArticle>\r\n    )\r\n}\r\n\r\nconst WArticle = styled.div`\r\n    box-sizing: border-box;\r\n    width: calc( 90% / ${props => props.rowsCount});\r\n    margin: 10px;\r\n    @media (min-width: 980px) {\r\n        margin: 20px;\r\n    }\r\n    cursor: pointer;\r\n    &:hover{\r\n        figure{\r\n            img{\r\n                opacity: .7;\r\n            }\r\n        }\r\n        p{\r\n            opacity: .7;\r\n        }\r\n    }\r\n`\r\nconst WArticleFigure = styled.figure`\r\n    width:100%;\r\n`\r\nconst WArticleImg = styled.img`\r\n    width:100%;\r\n    vertical-align: middle;\r\n    transition: all .3s;\r\n`\r\nconst WArticleCategory = styled.p`\r\n    color:${blue400};\r\n    font-size: 12px;\r\n    transition: all .3s;\r\n`\r\nconst WArticleTitle = styled.p`\r\n    color:${blue600};\r\n    transition: all .3s;\r\n    font-weight: bold;\r\n`","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\components\\common\\Tag.jsx",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\utils.js",["109","110"],"const RA = require('ramda');\r\n// export const arrCompileTagsArr = RA.reduce((articleAccumulator, currentArticle) => [...articleAccumulator, ...currentArticle.tags], [])\r\n// export const arrCompileRepeatObj = RA.reduce((tagAccumulator, currentTag) => {\r\n//     tagAccumulator[currentTag] = tagAccumulator[currentTag] ? tagAccumulator[currentTag] + 1 : 1\r\n//     return tagAccumulator\r\n// }, {})\r\n\r\nexport const pipe = (...fns) => x => fns.reduce((value, fn) => fn(value), x)\r\nexport const stringToLower = str => str.toLowerCase()\r\nexport const stringToUpper = str => str.toUpperCase()\r\nexport const _log = variable => { console.log(\"log\", variable); return variable }\r\nexport const packTagsString = (arr) => arr.reduce((totalTagsString, currentArticle) =>\r\n    [...totalTagsString, ...currentArticle.tags], [])\r\nexport const countRepeatTag = arr => arr.reduce((tagCount, currentTag) => {\r\n    tagCount[currentTag] = tagCount[currentTag] ? tagCount[currentTag] + 1 : 1\r\n    return tagCount\r\n}, {})\r\nexport const _sort = (f) => (arr) => arr.sort(f)\r\nexport const _map = (f) => (arr) => arr.map(f)\r\nexport const objKeysToArr = obj => Object.keys(obj)\r\nexport const objToArr = (obj) => {\r\n    return Object.keys(obj).map(key => ({ \"name\": key, \"value\": obj[key] }))\r\n}\r\nexport const _slice = (x, y) => (arr) => arr.slice(x, y)\r\nexport const _filter = (f) => (arr) => arr.filter(f)\r\nexport function timestampToDate(timestamp) {\r\n    let timestampNumber = Number(timestamp)\r\n    if (timestamp.toString().length === 10) timestampNumber = timestampNumber * 1000\r\n    if (timestamp.toString().length === 13) timestampNumber = timestampNumber\r\n    const Time = new Date(timestampNumber)\r\n    const getYear = Time.getFullYear()\r\n    const getMonth = Time.getMonth() + 1 < 10 ? '0' + (Time.getMonth() + 1) : Time.getMonth() + 1\r\n    const getDateString = Time.getDate()\r\n    return `${getYear}-${getMonth}-${getDateString}`\r\n}\r\n","D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\store.js",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\reducers\\RootReducer.ts",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\reducers\\WriterListReducer.js",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\store\\reducers\\ArticleReducer.js",[],"D:\\work\\Font-end\\React\\WebTeam\\Article\\src\\pages\\ArticlePage.tsx",["111","112","113"],"import React, { useEffect, useRef } from 'react'\r\nimport styled from 'styled-components'\r\nimport { GetArticle } from '../store/actions/articleAction'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { WContainer } from '../styles/General'\r\nimport { timestampToDate } from \"../utils\"\r\nimport { RouteComponentProps } from \"react-router-dom\"\r\n\r\ninterface Location {\r\n    articleId: string\r\n}\r\n\r\ninterface ArticlePageProps extends RouteComponentProps<{}, {}, Location> {\r\n\r\n}\r\n\r\nexport default function ArticlePage({ location: { state: { articleId } }, history }: ArticlePageProps) {\r\n\r\n    const dispatch = useDispatch()\r\n    // @ts-ignore\r\n    const articleList = useSelector(state => state.WriterList)\r\n    // @ts-ignore\r\n    const { [articleId]: article } = useSelector(state => state.Article)\r\n    const authorName = articleList.pinkymini.AuthorName\r\n\r\n    useEffect(() => {\r\n        dispatch(GetArticle(articleId, authorName))\r\n    }, [authorName, articleId])\r\n\r\n    const handleTagClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n        const target = e.target as Element\r\n        const locationInfo = {\r\n            pathname: `/ResultPage`,\r\n            state: {\r\n                articleId,\r\n                searchValue: target.innerHTML,\r\n            }\r\n        }\r\n        history.push(locationInfo)\r\n    }\r\n    // ulit.js 創一個function 判斷 number 長度 做處理\r\n    const publicTime = new Date(Number(article?.public_at * 1000))\r\n\r\n\r\n    return (\r\n        (article?.status === \"success\") ?\r\n            <WArticlePageSection>\r\n                <WArticlePageContainer>\r\n                    <WArticleHeader>\r\n                        {!!article.category && article.category !== \"未分類\" && article.category.length > 0 && <WCategory>{article.category}</WCategory>}\r\n                        <WTitle>{article.title}</WTitle>\r\n                    </WArticleHeader>\r\n                    <WContent>\r\n                        <WArticleInfo>\r\n                            <WFigure>\r\n                                <WImg src={article.avatar} />\r\n                            </WFigure>\r\n                            <WAuthor>\r\n                                作者:{article.authorName}\r\n                            </WAuthor>\r\n                            <WPublic>\r\n                                {timestampToDate(article?.public_at)}\r\n                            </WPublic>\r\n                            <WTagList>\r\n                                {article.tags.map((item: any, index: any) =>\r\n                                    <WTag key={index} onClick={(e) => handleTagClick(e)}>{item.tag}</WTag>\r\n                                )}\r\n                            </WTagList>\r\n                        </WArticleInfo>\r\n                        <WArticle dangerouslySetInnerHTML={{ __html: article.body }} />\r\n                    </WContent>\r\n                </WArticlePageContainer>\r\n            </WArticlePageSection>\r\n            : null\r\n    )\r\n}\r\n\r\nconst WTagList = styled.div`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n`\r\n\r\nconst WTag = styled.div`\r\n    padding: 5px;\r\n    border: 1px solid black;\r\n    border-radius: 15px;\r\n    line-height: 0.8;\r\n    margin: 2px 5px;\r\n    cursor: pointer;\r\n`\r\n\r\nconst WArticleHeader = styled.div`\r\n    max-width:720px;\r\n    padding: 25px 0;\r\n    margin:auto;\r\n`\r\nconst WCategory = styled.p`\r\n    font-size: 15px;\r\n    line-height: 20px;\r\n    margin:auto;\r\n    font-weight: bold; \r\n    padding-left:10px;   \r\n`\r\n\r\nconst WTitle = styled.h1`\r\n    font-size: 30px;\r\n    line-height: 35px;\r\n    margin:auto;\r\n`\r\n\r\nconst WArticleInfo = styled.div`\r\n    position: absolute;\r\n    left: -60%;\r\n    width: 250px;\r\n`\r\n\r\nconst WFigure = styled.figure`\r\n    text-align: center;\r\n    margin-bottom: 5px;\r\n`\r\n\r\nconst WImg = styled.img`\r\n\r\n`\r\n\r\nconst WAuthor = styled.p`\r\n    margin-bottom:5px;\r\n`\r\n\r\nconst WPublic = styled.p`\r\n    margin-bottom:5px;\r\n`\r\n\r\nconst WContent = styled.div`\r\n    position:relative;\r\n    max-width:580px;\r\n    margin:auto;\r\n    padding-top:50px;\r\n`\r\n\r\nconst WArticle = styled.div`\r\n    p{\r\n        padding:5px 0px;\r\n        >img{\r\n            margin: 10px auto;\r\n            display:block;\r\n        }\r\n    }\r\n`\r\n\r\nconst WArticlePageSection = styled.section`\r\n    background-color: #EEE;\r\n    padding:25px 0px;\r\n`\r\n\r\nconst WArticlePageContainer = styled(WContainer)`\r\n    flex-direction: column;\r\n`\r\n\r\n\r\n",{"ruleId":"114","replacedBy":"115"},{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":31,"column":8,"nodeType":"120","messageId":"121","endLine":31,"endColumn":11},{"ruleId":"122","severity":1,"message":"123","line":58,"column":6,"nodeType":"124","endLine":58,"endColumn":8,"suggestions":"125"},{"ruleId":"126","severity":1,"message":"127","line":2,"column":8,"nodeType":"120","messageId":"121","endLine":2,"endColumn":16},{"ruleId":"126","severity":1,"message":"128","line":4,"column":5,"nodeType":"120","messageId":"121","endLine":4,"endColumn":12},{"ruleId":"126","severity":1,"message":"129","line":5,"column":5,"nodeType":"120","messageId":"121","endLine":5,"endColumn":9},{"ruleId":"126","severity":1,"message":"130","line":1,"column":17,"nodeType":"120","messageId":"121","endLine":1,"endColumn":24},{"ruleId":"126","severity":1,"message":"131","line":2,"column":10,"nodeType":"120","messageId":"121","endLine":2,"endColumn":20},{"ruleId":"126","severity":1,"message":"132","line":3,"column":10,"nodeType":"120","messageId":"121","endLine":3,"endColumn":21},{"ruleId":"126","severity":1,"message":"133","line":4,"column":10,"nodeType":"120","messageId":"121","endLine":4,"endColumn":14},{"ruleId":"126","severity":1,"message":"128","line":4,"column":16,"nodeType":"120","messageId":"121","endLine":4,"endColumn":23},{"ruleId":"126","severity":1,"message":"134","line":4,"column":25,"nodeType":"120","messageId":"121","endLine":4,"endColumn":39},{"ruleId":"126","severity":1,"message":"135","line":4,"column":41,"nodeType":"120","messageId":"121","endLine":4,"endColumn":55},{"ruleId":"126","severity":1,"message":"136","line":4,"column":57,"nodeType":"120","messageId":"121","endLine":4,"endColumn":61},{"ruleId":"126","severity":1,"message":"137","line":4,"column":63,"nodeType":"120","messageId":"121","endLine":4,"endColumn":76},{"ruleId":"126","severity":1,"message":"138","line":4,"column":78,"nodeType":"120","messageId":"121","endLine":4,"endColumn":86},{"ruleId":"126","severity":1,"message":"139","line":4,"column":88,"nodeType":"120","messageId":"121","endLine":4,"endColumn":93},{"ruleId":"126","severity":1,"message":"140","line":4,"column":95,"nodeType":"120","messageId":"121","endLine":4,"endColumn":101},{"ruleId":"126","severity":1,"message":"129","line":7,"column":5,"nodeType":"120","messageId":"121","endLine":7,"endColumn":9},{"ruleId":"122","severity":1,"message":"141","line":37,"column":8,"nodeType":"124","endLine":37,"endColumn":28,"suggestions":"142"},{"ruleId":"126","severity":1,"message":"143","line":4,"column":10,"nodeType":"120","messageId":"121","endLine":4,"endColumn":14},{"ruleId":"126","severity":1,"message":"144","line":1,"column":7,"nodeType":"120","messageId":"121","endLine":1,"endColumn":9},{"ruleId":"145","severity":1,"message":"146","line":29,"column":63,"nodeType":"120","messageId":"147","endLine":29,"endColumn":78},{"ruleId":"118","severity":1,"message":"148","line":1,"column":28,"nodeType":"120","messageId":"121","endLine":1,"endColumn":34},{"ruleId":"122","severity":1,"message":"123","line":28,"column":8,"nodeType":"124","endLine":28,"endColumn":31,"suggestions":"149"},{"ruleId":"118","severity":1,"message":"150","line":42,"column":11,"nodeType":"120","messageId":"121","endLine":42,"endColumn":21},"no-native-reassign",["151"],"no-negated-in-lhs",["152"],"@typescript-eslint/no-unused-vars","'Tag' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["153"],"no-unused-vars","'fakeData' is defined but never used.","'_filter' is defined but never used.","'_log' is defined but never used.","'useMemo' is defined but never used.","'useHistory' is defined but never used.","'useSelector' is defined but never used.","'pipe' is defined but never used.","'packTagsString' is defined but never used.","'countRepeatTag' is defined but never used.","'_map' is defined but never used.","'stringToLower' is defined but never used.","'objToArr' is defined but never used.","'_sort' is defined but never used.","'_slice' is defined but never used.","React Hook useMemo has missing dependencies: 'columnsCount' and 'rowsCount'. Either include them or remove the dependency array.",["154"],"'Link' is defined but never used.","'RA' is assigned a value but never used.","no-self-assign","'timestampNumber' is assigned to itself.","selfAssignment","'useRef' is defined but never used.",["155"],"'publicTime' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"156","fix":"157"},{"desc":"158","fix":"159"},{"desc":"160","fix":"161"},"Update the dependencies array to be: [dispatch]",{"range":"162","text":"163"},"Update the dependencies array to be: [articleList.pinkymini?.actionStatus, articleList.pinkymini.articles, columnsCount, rowsCount, title]",{"range":"164","text":"165"},"Update the dependencies array to be: [authorName, articleId, dispatch]",{"range":"166","text":"167"},[1727,1729],"[dispatch]",[1248,1268],"[articleList.pinkymini?.actionStatus, articleList.pinkymini.articles, columnsCount, rowsCount, title]",[952,975],"[authorName, articleId, dispatch]"]